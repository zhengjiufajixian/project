{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/GuiYang/Desktop/uniapp/project/consumer/subPackages/apply_refund/detail/detail.vue?1d9c","webpack:///C:/Users/GuiYang/Desktop/uniapp/project/consumer/subPackages/apply_refund/detail/detail.vue?e901","webpack:///C:/Users/GuiYang/Desktop/uniapp/project/consumer/subPackages/apply_refund/detail/detail.vue?4e4c","webpack:///C:/Users/GuiYang/Desktop/uniapp/project/consumer/subPackages/apply_refund/detail/detail.vue?75d2","uni-app:///subPackages/apply_refund/detail/detail.vue","webpack:///C:/Users/GuiYang/Desktop/uniapp/project/consumer/subPackages/apply_refund/detail/detail.vue?71e1"],"names":["createPage","Page","renderjs","component","options","__file","components","uInput","uGap","uUpload","uIcon","uImage","uButton","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","m0","_self","_c","getRefundStatus","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,+D,mDACAA,EAAWC,a;;;;2DCHX,4QACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,6CACZ,aAAAF,E;;;;2GCvBf,mzB;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,OAAQ,WACN,OAAO,4MAITC,KAAM,WACJ,OAAO,4JAITC,QAAS,WACP,OAAO,kNAITC,MAAO,WACL,OAAO,kKAITC,OAAQ,WACN,OAAO,wKAITC,QAAS,WACP,OAAO,+KAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,mBACbP,EAAIQ,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLR,GAAIA,MAKRS,GAAmB,EACnBC,EAAkB,GACtBf,EAAOgB,eAAgB,G;;;;2DCnEvB,ueAAgnB,eAAG,G;;;;0ICgCnnB,+C,0hBACA,CACA,KADA,WAEA,OACA,MACA,kBAEA,gCACA,QACA,uEAEA,UACA,cACA,OAEA,eACA,aACA,aACA,cAGA,OApBA,SAoBA,GACA,uBACA,2BACA,uBAEA,SACA,gBADA,WAEA,uBACA,uBACA,WACA,aAEA,gBACA,iBAEA,aACA,aAEA,WACA,aAEA,QACA,QAGA,eApBA,WAoBA,WACA,4BACA,uBACA,kBAEA,oBACA,eACA,gBACA,wBACA,oCACA,kBAGA,aAjCA,SAiCA,SACA,wBAEA,gBApCA,SAoCA,OACA,qBACA,cACA,kBAEA,OAzCA,WA0CA,eAOA,yBACA,qBACA,yCACA,2BACA,kBACA,IACA,aACA,iBAEA,uBACA,mBACA,UAjBA,aACA,gBACA,iB;;;;2DCvGA,u0BAAknC,eAAG,G","file":"subPackages/apply_refund/detail/detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './subPackages/apply_refund/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=3edaff39&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subPackages/apply_refund/detail/detail.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=3edaff39&\"","var components\ntry {\n  components = {\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uGap: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-gap/u-gap\" */ \"@/uview-ui/components/u-gap/u-gap.vue\"\n      )\n    },\n    uUpload: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-upload/u-upload\" */ \"@/uview-ui/components/u-upload/u-upload.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uImage: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-image/u-image\" */ \"@/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.getRefundStatus()\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"bg-white u-padding-top-26 u-padding-right-30 u-padding-bottom-26 u-padding-left-30\">\r\n\t\t\t<u-input type=\"textarea\" v-model=\"refundMsg\" height=\"200\" placeholder=\"请输入您的退款原因\" :disabled=\"disabled\"/>\r\n\t\t</view>\r\n\t\t<u-gap height=\"20\"></u-gap>\r\n\t\t<view class=\"bg-white u-padding-top-26 u-padding-right-30 u-padding-bottom-26 u-padding-left-30\">\r\n\t\t\t<view class=\"u-flex u-col-center u-row-between\">\r\n\t\t\t\t<text class=\"u-font-26 color-4A4A4A\">图片上传</text>\r\n\t\t\t\t<text>{{refundImg.length}}/4</text>\r\n\t\t\t</view>\r\n\t\t\t<u-gap height=\"55\"></u-gap>\r\n\t\t\t<view v-if=\"!disabled\">\r\n\t\t\t\t<u-upload :action=\"action\" :form-data=\"formData\" :header=\"haeder\" @on-success=\"addRefundImg\" @on-remove=\"removeRefundImg\"\r\n\t\t\t\t max-count=\"4\" width=\"140\" height=\"140\" :custom-btn=\"true\">\r\n\t\t\t\t\t<view class=\"u-flex u-col-center u-row-center uplaod-wrap\" slot=\"addBtn\">\r\n\t\t\t\t\t\t<u-icon name=\"camera\" size=\"60\"></u-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</u-upload>\r\n\t\t\t</view>\r\n\t\t\t<view v-else>\r\n\t\t\t\t<u-image width=\"140\" height=\"140\" v-for=\"(item,index) in refundImg\" :key=\"index\" :src=\"item\"></u-image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-gap height=\"55\"></u-gap>\r\n\t\t<view class=\"btn-wrap\">\r\n\t\t\t<u-button :custom-style=\"fz34\" type=\"primary\" shape=\"circle\">{{getRefundStatus()}}</u-button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport * as config from \"../../../common/config.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tfz34: {\r\n\t\t\t\t\tfontSize: '34rpx'\r\n\t\t\t\t},\r\n\t\t\t\taction: config.baseUrl + '/file/upload',\r\n\t\t\t\thaeder: {\r\n\t\t\t\t\t'Authorization': uni.getStorageSync('tokenHead') + uni.getStorageSync('token'),\r\n\t\t\t\t},\r\n\t\t\t\tformData: {\r\n\t\t\t\t\t'type': 'refund',\r\n\t\t\t\t\t\"id\": ''\r\n\t\t\t\t},\r\n\t\t\t\torderDetail:'',\r\n\t\t\t\trefundImg: [],\r\n\t\t\t\trefundMsg:'',\r\n\t\t\t\tdisabled: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(params) {\r\n\t\t\tthis.orderId = params.orderId\r\n\t\t\tthis.formData.id = params.orderId\r\n\t\t\tthis.getOrderDetail()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetRefundStatus() {\r\n\t\t\t\tlet val = this.orderDetail\r\n\t\t\t\tswitch (val.refundStatus){\r\n\t\t\t\t\tcase 'INIT':\r\n\t\t\t\t\t\treturn '等待审核'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'EXECUTING':\r\n\t\t\t\t\t\treturn '正在退回至原渠道'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'REFUND':\r\n\t\t\t\t\t\treturn '退款成功'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'FAIL':\r\n\t\t\t\t\t\treturn '退款驳回'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetOrderDetail() {\r\n\t\t\t\tthis.$u.api.getOrderDetail({\r\n\t\t\t\t\torderId: this.orderId\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t// 退款状态,INIT申请退款中,EXECUTING,正在退款,REFUND已退款,FAIL,退款失败\r\n\t\t\t\t\tlet data = JSON.parse(res)\r\n\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\tthis.orderDetail = data\r\n\t\t\t\t\tthis.refundMsg = data.refundMsg\r\n\t\t\t\t\tthis.refundImg = JSON.parse(data.refundImg)\r\n\t\t\t\t\tthis.disabled = true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\taddRefundImg(data, index, lists, name) {\r\n\t\t\t\tthis.refundImg.push(data)\r\n\t\t\t},\r\n\t\t\tremoveRefundImg(index, lists, name) {\r\n\t\t\t\tlet arr = this.refundImg\r\n\t\t\t\tarr.splice(index, 1)\r\n\t\t\t\tthis.refundImg = arr\r\n\t\t\t},\r\n\t\t\tsubmit() {\r\n\t\t\t\tif (!this.refundMsg) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入退款原因',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$u.api.applyRefund({\r\n\t\t\t\t\torderId: this.orderId,\r\n\t\t\t\t\trefundImg: JSON.stringify(this.refundImg),\r\n\t\t\t\t\trefundMsg: this.refundMsg\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif(res){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '申请提交成功'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t},1500)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.uplaod-wrap {\r\n\t\twidth: 140rpx;\r\n\t\theight: 140rpx;\r\n\t\tborder: 2rpx solid #dcdcdc;\r\n\t\tcolor: #dcdcdc;\r\n\t}\r\n\r\n\t.u-list-item {\r\n\t\tmargin-right: 40rpx !important;\r\n\t}\r\n\r\n\t.btn-wrap {\r\n\t\twidth: 80%;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}