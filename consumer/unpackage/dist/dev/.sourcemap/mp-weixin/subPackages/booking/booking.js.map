{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/GuiYang/Desktop/uniapp/project/consumer/subPackages/booking/booking.vue?2f4a","webpack:///C:/Users/GuiYang/Desktop/uniapp/project/consumer/subPackages/booking/booking.vue?406a","webpack:///C:/Users/GuiYang/Desktop/uniapp/project/consumer/subPackages/booking/booking.vue?e137","webpack:///C:/Users/GuiYang/Desktop/uniapp/project/consumer/subPackages/booking/booking.vue?af46","uni-app:///subPackages/booking/booking.vue","webpack:///C:/Users/GuiYang/Desktop/uniapp/project/consumer/subPackages/booking/booking.vue?605b"],"names":["createPage","Page","renderjs","component","options","__file","components","uLine","uIcon","uImage","uLoadmore","uEmpty","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","l0","_self","_c","orderList","length","__map","item","index","$orig","__get_orig","g0","$u","timeFormat","Date","createTime","getTime","m0","getBtnStyle","m1","getOrderStatus","m2","getBtnText","m3","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,oD,mDACAA,EAAWC,a;;;;2DCHX,+QACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,kCACZ,aAAAF,E;;;;2GCvBf,ozB;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,MAAO,WACL,OAAO,kKAITC,MAAO,WACL,OAAO,kKAITC,OAAQ,WACN,OAAO,wKAITC,UAAW,WACT,OAAO,0LAITC,OAAQ,WACN,OAAO,yKAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GAEjBN,EAAIO,UAAUC,OAAS,EACnBR,EAAIS,MAAMT,EAAIO,WAAW,SAASG,EAAMC,GACtC,IAAIC,EAAQZ,EAAIa,WAAWH,GAEvBI,EAAKd,EAAIe,GAAGC,WACd,IAAIC,KAAKP,EAAKQ,YAAYC,UAC1B,oBAEEC,EAAKpB,EAAIqB,YAAYX,GACrBY,EAAKtB,EAAIuB,eAAeb,GACxBc,EAAKxB,EAAIyB,WAAWf,GACpBgB,EAAKF,EAAKxB,EAAIyB,WAAWf,GAAQ,KACrC,MAAO,CACLE,MAAOA,EACPE,GAAIA,EACJM,GAAIA,EACJE,GAAIA,EACJE,GAAIA,EACJE,GAAIA,MAGR,MACN1B,EAAI2B,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACL3B,GAAIA,MAKR4B,GAAmB,EACnBC,EAAkB,GACtBlC,EAAOmC,eAAgB,G;;;;2DCpFvB,weAAinB,eAAG,G;;;;0IC0HpnB,4C,0hBACA,CACA,KADA,WAEA,OACA,OACA,iBACA,eAGA,OARA,WASA,qBAEA,OAXA,aAcA,kBAdA,WAeA,YACA,kBACA,sBACA,uBAEA,SACA,cADA,SACA,KACA,2BACA,kBACA,kBACA,SAGA,eARA,SAQA,GACA,sBACA,WACA,oCAEA,kBACA,oCAEA,aACA,YAEA,gBACA,YAEA,cACA,iCAEA,WACA,YAEA,aACA,YAEA,QACA,WAIA,WApCA,SAoCA,GACA,sBACA,kBACA,aAEA,gBACA,aAEA,cACA,mBACA,2BAEA,GAGA,WACA,aAEA,aACA,YAEA,QACA,WAIA,YA9DA,SA8DA,GACA,sBACA,WACA,qBAEA,kBACA,qBAEA,aACA,qBAEA,gBACA,qBAEA,cACA,qBAEA,WACA,qBAEA,aACA,qBAEA,QACA,QAGA,YAzFA,SAyFA,KAEA,8BACA,aACA,eACA,cAGA,2BACA,cACA,cACA,mDAGA,cACA,yEAKA,YA7GA,SA6GA,cACA,0BACA,aACA,4BACA,aACA,WACA,kBACA,aACA,iBAEA,sCAIA,KA3HA,SA2HA,GACA,iBACA,2BAGA,KAhIA,SAgIA,GACA,qDAEA,aAnIA,SAmIA,cACA,YACA,0BACA,eACA,aACA,iBACA,kBACA,GACA,wBAEA,cACA,mBAEA,sCAGA,cAnJA,WAoJA,wBAGA,sBACA,wB;;;;2DCvSA,w0BAAmnC,eAAG,G","file":"subPackages/booking/booking.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './subPackages/booking/booking.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./booking.vue?vue&type=template&id=0284ed43&\"\nvar renderjs\nimport script from \"./booking.vue?vue&type=script&lang=js&\"\nexport * from \"./booking.vue?vue&type=script&lang=js&\"\nimport style0 from \"./booking.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subPackages/booking/booking.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./booking.vue?vue&type=template&id=0284ed43&\"","var components\ntry {\n  components = {\n    uLine: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-line/u-line\" */ \"@/uview-ui/components/u-line/u-line.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uImage: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-image/u-image\" */ \"@/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    },\n    uEmpty: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-empty/u-empty\" */ \"@/uview-ui/components/u-empty/u-empty.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.orderList.length > 0\n      ? _vm.__map(_vm.orderList, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var g0 = _vm.$u.timeFormat(\n            new Date(item.createTime).getTime(),\n            \"yyyy-mm-dd hh:MM\"\n          )\n          var m0 = _vm.getBtnStyle(item)\n          var m1 = _vm.getOrderStatus(item)\n          var m2 = _vm.getBtnText(item)\n          var m3 = m2 ? _vm.getBtnText(item) : null\n          return {\n            $orig: $orig,\n            g0: g0,\n            m0: m0,\n            m1: m1,\n            m2: m2,\n            m3: m3\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./booking.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./booking.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view v-if=\"orderList.length > 0\">\r\n\t\t\t<view v-for=\"(item,index) in orderList\" :key=\"index\">\r\n\t\t\t\t<navigator :url=\"'/subPackages/booking/bookingDetail/bookingDetail?orderId=' + item.id\"\r\n\t\t\t\t\thover-class=\"none\">\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\tclass=\"u-flex u-padding-left-30 u-padding-right-30 u-padding-top-20 u-padding-bottom-20 u-col-top\">\r\n\t\t\t\t\t\t<view class=\"u-flex-9 u-line-1\">\r\n\t\t\t\t\t\t\t<view class=\"u-font-28 u-line-1 bold\">\r\n\t\t\t\t\t\t\t\t店铺名称：{{item.shop.shopName?item.shop.shopName:''}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"u-font-28 u-padding-top-10 u-padding-bottom-10\">订单号：{{item.id}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"u-font-24 color-999999\">\r\n\t\t\t\t\t\t\t\t预约时间：{{$u.timeFormat(new Date(item.createTime).getTime(), 'yyyy-mm-dd hh:MM' )}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"u-flex-3 u-font-30 u-text-right\">\r\n\t\t\t\t\t\t\t<view :class=\"'u-padding-bottom-20 u-font-28 ' + getBtnStyle(item)\">\r\n\t\t\t\t\t\t\t\t{{getOrderStatus(item)}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>￥ {{item.orderMoney}}元</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</navigator>\r\n\t\t\t\t<view class=\"u-padding-left-30 u-padding-right-30\">\r\n\t\t\t\t\t<u-line></u-line>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"u-flex u-padding-top-10 u-padding-bottom-10\">\r\n\t\t\t\t\t<view class=\"u-flex-7 u-flex u-font-24 u-padding-left-30\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<navigator class=\"color-1672FF u-padding-top-20 u-padding-right-20 u-padding-bottom-20 \"\r\n\t\t\t\t\t\t\t\t:url=\"'/subPackages/booking/bookingDetail/bookingDetail?orderId=' + item.id\"\r\n\t\t\t\t\t\t\t\thover-class=\"none\">\r\n\t\t\t\t\t\t\t\t订单详情\r\n\t\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.orderStatus == 'PAYOFF'\">\r\n\t\t\t\t\t\t\t<navigator\r\n\t\t\t\t\t\t\t\tclass=\"color-999999 u-padding-left-10 u-padding-top-20 u-padding-right-10 u-padding-bottom-20\"\r\n\t\t\t\t\t\t\t\t:url=\"'/subPackages/pay/pay?payType=1&orderId=' + item.id + '&orderMoney=' + item.orderMoney \"\r\n\t\t\t\t\t\t\t\thover-class=\"none\">\r\n\t\t\t\t\t\t\t\t立即支付</navigator>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"color-999999 u-padding-left-10 u-padding-top-20 u-padding-right-10 u-padding-bottom-20\"\r\n\t\t\t\t\t\t\t@click=\"getBtnClick(item,index)\"\r\n\t\t\t\t\t\t\tv-if=\"getBtnText(item)\">\r\n\t\t\t\t\t\t\t{{getBtnText(item)}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"color-999999 u-padding-left-10 u-padding-top-20 u-padding-right-10 u-padding-bottom-20\"\r\n\t\t\t\t\t\t\t@click=\"cancelOrder(item)\"\r\n\t\t\t\t\t\t\tv-if=\"item.orderStatus == 'INIT' || item.orderStatus == 'WAITCONFIRM'\">\r\n\t\t\t\t\t\t\t取消订单\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"color-999999 u-padding-left-10 u-padding-top-20 u-padding-right-10 u-padding-bottom-20\"\r\n\t\t\t\t\t\t\tv-if=\"item.orderStatus == 'SUCCESS' && item.refund == 0\">\r\n\t\t\t\t\t\t\t<navigator :url=\"'/subPackages/apply_refund/apply_refund?orderId=' + item.id\"\r\n\t\t\t\t\t\t\t\thover-class=\"none\">\r\n\t\t\t\t\t\t\t\t申请退款\r\n\t\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"color-999999 u-padding-left-10 u-padding-top-20 u-padding-right-10 u-padding-bottom-20\"\r\n\t\t\t\t\t\t\tv-if=\"item.orderStatus == 'SUCCESS' && item.refund == 1\">\r\n\t\t\t\t\t\t\t<navigator :url=\"'/subPackages/apply_refund/detail/detail?orderId=' + item.id\"\r\n\t\t\t\t\t\t\t\thover-class=\"none\">\r\n\t\t\t\t\t\t\t\t查看退款申请\r\n\t\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- <view class=\"u-rela u-margin-left-30 u-padding-right-30\">\r\n\t\t\t\t\t\t<view class=\"u-flex u-row-center u-col-center color-FF2828 toPay\" v-if=\"item.orderStatus == 'INIT'\">\r\n\t\t\t\t\t\t\t<navigator :url=\"'/subPackages/pay/pay?payType=1&orderId=' + item.id + '&orderMoney=' + item.orderMoney \" hover-class=\"none\">\r\n\t\t\t\t\t\t\t\t立即支付\r\n\t\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"u-flex u-row-center u-col-center color-FF2828 toPay\"\r\n\t\t\t\t\t\t\tv-if=\"item.orderStatus == 'EXECUTING'\">订单服务中</view>\r\n\t\t\t\t\t\t<view class=\"u-flex u-row-center u-col-center color-FF2828 toPay\"\r\n\t\t\t\t\t\t\tv-if=\"item.orderStatus == 'SUCCESS' && item.refund == 0\">订单已完成</view>\r\n\t\t\t\t\t\t<view class=\"u-flex u-row-center u-col-center color-FF2828 toPay\"\r\n\t\t\t\t\t\t\tv-if=\"item.orderStatus == 'SUCCESS' && item.refund == 1\">已申请退款</view>\r\n\t\t\t\t\t\t<view class=\"u-flex u-row-center u-col-center color-999999 toPay\"\r\n\t\t\t\t\t\t\tv-if=\"item.orderStatus == 'REFUND' && item.refund == 1\">订单已退款</view>\r\n\t\t\t\t\t\t<view class=\"u-flex u-row-center u-col-center color-999999 toPay\"\r\n\t\t\t\t\t\t\tv-if=\"item.orderStatus == 'FAIL'\">订单已取消</view>\r\n\t\t\t\t\t\t<view class=\"u-padding-top-20 u-font-24\">请按预约时间前门店服务</view>\r\n\t\t\t\t\t\t<view class=\"u-padding-top-20 u-padding-bottom-20 u-font-22 color-999999\">\r\n\t\t\t\t\t\t\t<u-icon margin-right=\"20\" name=\"clock\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t\t<text>{{$u.timeFormat(new Date(item.scheduledTime).getTime(), 'yyyy-mm-dd hh:MM' )}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t\t<view class=\"u-flex-1 u-flex u-row-center u-col-center\">\r\n\t\t\t\t\t\t<u-icon name=\"arrow-right-double\" color=\"#e1e1e1\" size=\"30\"></u-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"u-flex-4 u-padding-right-30 u-flex u-row-around u-col-center\">\r\n\t\t\t\t\t\t<view class=\"u-text-center\" @click=\"getShopDetail(item,call)\">\r\n\t\t\t\t\t\t\t<view class=\"u-flex u-row-center\">\r\n\t\t\t\t\t\t\t\t<u-image width=\"40\" height=\"40\" src=\"/static/image/phone2.png\" mode=\"aspectFit\">\r\n\t\t\t\t\t\t\t\t</u-image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"u-font-22 color-666666 u-margin-top-10\">立即致电</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"\" @click=\"getShopDetail(item,navi)\">\r\n\t\t\t\t\t\t\t<view class=\"u-flex u-row-center\">\r\n\t\t\t\t\t\t\t\t<u-image width=\"40\" height=\"40\" src=\"/static/image/navi2.png\" mode=\"aspectFit\">\r\n\t\t\t\t\t\t\t\t</u-image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"u-font-22 color-666666 u-margin-top-10\">立即前往</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<u-loadmore :status=\"status\" />\r\n\t\t</view>\r\n\t\t<u-empty iconSize='360' paddingTop=\"250\" src=\"/static/image/nodata.png\" v-else></u-empty>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport * as config from \"../../common/config.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpage: 0,\r\n\t\t\t\tstatus: 'loading',\r\n\t\t\t\torderList: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getOrderList()\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// uni.startPullDownRefresh();\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.page = 0\r\n\t\t\tthis.orderList = []\r\n\t\t\tthis.status = 'loading'\r\n\t\t\tthis.getOrderList(true)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetShopDetail(item, func) {\r\n\t\t\t\tthis.$u.api.getShopDetail({\r\n\t\t\t\t\tshopId: item.shopId\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tfunc(res)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetOrderStatus(val) {\r\n\t\t\t\tswitch (val.orderStatus) {\r\n\t\t\t\t\tcase 'INIT':\r\n\t\t\t\t\t\treturn val.orderType == 'XC' ? '待确认' : '待接单'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'WAITCONFIRM':\r\n\t\t\t\t\t\treturn val.orderType == 'XC' ? '待接单' : '待报价'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'PAYOFF':\r\n\t\t\t\t\t\treturn '待付款'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'EXECUTING':\r\n\t\t\t\t\t\treturn '进行中'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'SUCCESS':\r\n\t\t\t\t\t\treturn val.refund == 0 ? '已完成' : '已申请退款'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'FAIL':\r\n\t\t\t\t\t\treturn '已取消'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'REFUND':\r\n\t\t\t\t\t\treturn '已退款'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn ''\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetBtnText(val) {\r\n\t\t\t\tswitch (val.orderStatus) {\r\n\t\t\t\t\tcase 'WAITCONFIRM':\r\n\t\t\t\t\t\treturn '等待报价'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'EXECUTING':\r\n\t\t\t\t\t\treturn '等待完成'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'SUCCESS':\r\n\t\t\t\t\t\tif(val.refund == 0) {\r\n\t\t\t\t\t\t\treturn val.evaluate == 0 ? \"去评价\" : \"查看评价\"\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'FAIL':\r\n\t\t\t\t\t\treturn '无效订单'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'REFUND':\r\n\t\t\t\t\t\treturn '已退款'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn ''\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetBtnStyle(val) {\r\n\t\t\t\tswitch (val.orderStatus) {\r\n\t\t\t\t\tcase 'INIT':\r\n\t\t\t\t\t\treturn 'color-FFBA09'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'WAITCONFIRM':\r\n\t\t\t\t\t\treturn 'color-1672FF'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'PAYOFF':\r\n\t\t\t\t\t\treturn 'color-1672FF'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'EXECUTING':\r\n\t\t\t\t\t\treturn 'color-13E3A5'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'SUCCESS':\r\n\t\t\t\t\t\treturn 'color-FF2828'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'FAIL':\r\n\t\t\t\t\t\treturn 'color-999999'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'REFUND':\r\n\t\t\t\t\t\treturn 'color-999999'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetBtnClick(val, index) {\r\n\t\t\t\t\r\n\t\t\t\tif (val.orderStatus == \"WAITCONFIRM\") {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '等待商家报价',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tif (val.orderStatus == \"SUCCESS\") {\r\n\t\t\t\t\tif (val.evaluate == 0) {\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: \"/subPackages/order/rate/rate?orderId=\" + val.id\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: \"/subPackages/booking/bookingDetail/bookingDetail?orderId=\" + val.id\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcancelOrder(val) {\r\n\t\t\t\tif (val.orderStatus == \"INIT\") {\r\n\t\t\t\t\tlet status = \"FAIL\"\r\n\t\t\t\t\tthis.$u.api.setOrderStatus({\r\n\t\t\t\t\t\torderId: val.id,\r\n\t\t\t\t\t\tstatus: status\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '预约取消成功'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.orderList[index].orderStatus = status\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcall(res) {\r\n\t\t\t\tuni.makePhoneCall({\r\n\t\t\t\t\tphoneNumber: res.shopPhone\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tnavi(res) {\r\n\t\t\t\tconfig.tencentMapNavi(res.shopName, res.latitude, res.longitude)\r\n\t\t\t},\r\n\t\t\tgetOrderList(flag) {\r\n\t\t\t\tthis.page++\r\n\t\t\t\tthis.$u.api.getOrderList({\r\n\t\t\t\t\tpage: this.page,\r\n\t\t\t\t\tstatus: 'ALL',\r\n\t\t\t\t\torderType: 'BY'\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (flag) {\r\n\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.length < 10) {\r\n\t\t\t\t\t\tthis.status = 'nomore'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.orderList = this.orderList.concat(res)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonReachBottom() {\r\n\t\t\t\tif (this.status == 'nomore') {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.status = 'loading';\r\n\t\t\t\tthis.getOrderList()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.toPay {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: rgba(255, 255, 255, 0.7);\r\n\t\tz-index: 1;\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./booking.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./booking.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}