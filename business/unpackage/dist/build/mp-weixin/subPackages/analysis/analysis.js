(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subPackages/analysis/analysis"],{2683:function(e,t,a){"use strict";a.r(t);var n=a("fbc1"),i=a("3905");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("8360");var r,s=a("f0c5"),u=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);t["default"]=u.exports},"34d3":function(e,t,a){},3905:function(e,t,a){"use strict";a.r(t);var n=a("92eb"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},7927:function(e,t,a){"use strict";(function(e){a("7ade");n(a("66fd"));var t=n(a("2683"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},8360:function(e,t,a){"use strict";var n=a("34d3"),i=a.n(n);i.a},"92eb":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=o(a("8246"));function o(e){return e&&e.__esModule?e:{default:e}}var r=null,s={data:function(){return{cWidth:"",cHeight:"",pixelRatio:1,serverData:"",pageData:{commodityList:[],thisMonthOrderInfo:{orderCount:0,orderMoney:0},totalOrderMoney:0,weekOrderInfo:[]},activeTab1:0,activeTab2:0,timeData1:[{name:"近7日",value:"week"},{name:"近1月",value:"month"},{name:"近3月",value:"threeMonth"},{name:"近6月",value:"sixMonth"},{name:"近1年",value:"year"}],timeData2:[{name:"近7日",value:"week"},{name:"近1月",value:"month"},{name:"近3月",value:"threeMonth"}]}},onLoad:function(){this.getAnalysisPageData(),n=this,this.cWidth=e.upx2px(750),this.cHeight=e.upx2px(500)},methods:{getAnalysisPageData:function(){var e=this;this.$u.api.analysisPageData().then((function(t){e.pageData=t,e.formateData()}))},formateData:function(){var e=this.timeData1[this.activeTab1].value,t={categories:[],series:[{index:0,type:"line",style:"curve",name:"订单金额",data:[]},{index:1,type:"line",style:"curve",name:"订单数量",data:[]}]};if("week"==e){for(var a=7,i=0;i<a;i++){var o=this.$u.timeFormat((new Date).getTime()-864e5*i,"yyyy-mm-dd");t.categories.push(o);var r=this.returnData(o);r?(t.series[0].data.push(r.orderMoney),t.series[1].data.push(r.orderCount)):(t.series[0].data.push(0),t.series[1].data.push(0))}n.showColumn("canvasColumn",t)}if("month"==e){var s=30;for(i=0;i<s;i++){var u=this.$u.timeFormat((new Date).getTime()-864e5*i,"yyyy-mm-dd");t.categories.push(u);var c=this.returnData(u);c?(t.series[0].data.push(c.orderMoney),t.series[1].data.push(c.orderCount)):(t.series[0].data.push(0),t.series[1].data.push(0))}n.showColumn("canvasColumn",t)}if("threeMonth"==e||"sixMonth"==e||"year"==e){var l=0;switch(e){case"threeMonth":l=3;break;case"sixMonth":l=6;break;case"year":l=12;break;default:break}var d=(new Date).getTime();for(i=0;i<l;i++){var h=null;0!=i&&(d-=864e5*new Date(d).getDate()),h=this.$u.timeFormat(d,"yyyy-mm"),t.categories.push(h);var f=this.returnData(h);f?(t.series[0].data.push(f.orderMoney),t.series[1].data.push(f.orderCount)):(t.series[0].data.push(0),t.series[1].data.push(0))}n.showColumn("canvasColumn",t)}},returnData:function(e){for(var t=this.pageData.weekOrderInfo,a=0;a<t.length;a++)if(t[a].date==e)return t[a]},getAnalysisOrderData:function(e){var t=this;this.activeTab1=e,this.$u.api.analysisOrderData({time:this.timeData1[this.activeTab1].value}).then((function(e){t.pageData.weekOrderInfo=e,t.formateData()}))},getAnalysisCommodityData:function(e){var t=this;this.activeTab2=e,this.$u.api.analysisCommodityData({time:this.timeData2[this.activeTab2].value}).then((function(e){t.pageData.commodityList=e}))},showColumn:function(e,t){r=new i.default({$this:n,canvasId:e,type:"mix",legend:!0,fontSize:11,background:"#FFFFFF",pixelRatio:n.pixelRatio,animation:!0,padding:[30,15,4,15],categories:t.categories,series:t.series,enableScroll:!0,xAxis:{disableGrid:!0,itemCount:4,scrollShow:!0,scrollAlign:"left",scrollBackgroundColor:"#F7F7FF",scrollColor:"#DEE7F7"},yAxis:{showTitle:!0,data:[{position:"left",title:"订单金额",format:function(e){return e.toFixed(0)}},{position:"right",title:"订单数量",format:function(e){return e.toFixed(0)}}]},dataLabel:!0,width:n.cWidth*n.pixelRatio,height:n.cHeight*n.pixelRatio,extra:{column:{width:n.cWidth*n.pixelRatio*.45/t.categories.length}}})},touchLineA:function(e){r.scrollStart(e)},moveLineA:function(e){r.scroll(e)},touchEndLineA:function(e){r.scrollEnd(e),r.showToolTip(e,{format:function(e,t){return t+" "+e.name+":"+e.data}})}}};t.default=s}).call(this,a("543d")["default"])},fbc1:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var n={uGap:function(){return a.e("uview-ui/components/u-gap/u-gap").then(a.bind(null,"94c1"))},uIcon:function(){return a.e("uview-ui/components/u-icon/u-icon").then(a.bind(null,"ff68"))},uImage:function(){return a.e("uview-ui/components/u-image/u-image").then(a.bind(null,"412e"))}},i=function(){var e=this,t=e.$createElement,a=(e._self._c,e.__map(e.pageData.commodityList,(function(t,a){var n=e.__get_orig(t),i=JSON.parse(t.image),o=(t.refundCount/100).toFixed(2);return{$orig:n,g0:i,g1:o}})));e.$mp.data=Object.assign({},{$root:{l0:a}})},o=[]}},[["7927","common/runtime","common/vendor"]]]);