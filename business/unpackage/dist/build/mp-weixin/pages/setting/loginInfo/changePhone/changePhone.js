(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/setting/loginInfo/changePhone/changePhone"],{"2e77":function(n,e,t){"use strict";t.r(e);var o=t("d8de"),i=t("3bca");for(var u in i)"default"!==u&&function(n){t.d(e,n,(function(){return i[n]}))}(u);t("4f83");var r,c=t("f0c5"),a=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);e["default"]=a.exports},"3bca":function(n,e,t){"use strict";t.r(e);var o=t("ca8b"),i=t.n(o);for(var u in o)"default"!==u&&function(n){t.d(e,n,(function(){return o[n]}))}(u);e["default"]=i.a},"4f83":function(n,e,t){"use strict";var o=t("8405"),i=t.n(o);i.a},8405:function(n,e,t){},a271:function(n,e,t){"use strict";(function(n){t("7ade");o(t("66fd"));var e=o(t("2e77"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},ca8b:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=u(t("4c84"));function i(){if("function"!==typeof WeakMap)return null;var n=new WeakMap;return i=function(){return n},n}function u(n){if(n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};var e=i();if(e&&e.has(n))return e.get(n);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)){var r=o?Object.getOwnPropertyDescriptor(n,u):null;r&&(r.get||r.set)?Object.defineProperty(t,u,r):t[u]=n[u]}return t.default=n,e&&e.set(n,t),t}var r={data:function(){return{form:{merchantPhone:"",code:"",newPhone:""},phoneNumber:o.phoneNumber,tips:"",seconds:o.seconds,labelStyle:{fontSize:"30rpx",color:"#787a81"},show:!1}},methods:{codeChange:function(n){this.tips=n},getCode:function(){var e=this;if(this.$refs.uCode.canGetCode){if(!this.form.merchantPhone)return void n.showToast({title:"请输入手机号",icon:"none"});if(!o.mobilePhoneReg.test(this.form.merchantPhone))return void n.showToast({title:"手机号格式错误",icon:"none"});if(this.form.merchantPhone!=n.getStorageSync("merchantPhone"))return void n.showToast({title:"原手机号不匹配，请检查后重试",icon:"none"});n.showLoading({title:"正在获取验证码"}),this.$u.api.sendMessage().then((function(t){n.hideLoading(),e.$u.toast("验证码已发送"),e.$refs.uCode.start()}))}else this.$u.toast("倒计时结束后再发送")},handleClick:function(){var e=this;this.form.merchantPhone?this.form.code?this.form.newPhone?this.$u.api.bindPhone({merchantId:n.getStorageSync("merchantId"),phone:this.form.newPhone,code:this.form.code}).then((function(t){t?(n.setStorageSync("merchantPhone",e.form.newPhone),n.showToast({title:"手机号更改成功",success:function(){setTimeout((function(){n.navigateBack()}),1e3)}})):n.showToast({title:"请重新获取验证码",icon:"none"})})):n.showToast({title:"请输入新手机号",icon:"none"}):n.showToast({title:"请输入验证码",icon:"none"}):n.showToast({title:"请输入手机号",icon:"none"})}}};e.default=r}).call(this,t("543d")["default"])},d8de:function(n,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return u})),t.d(e,"a",(function(){return o}));var o={uForm:function(){return t.e("uview-ui/components/u-form/u-form").then(t.bind(null,"f270"))},uFormItem:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-form-item/u-form-item")]).then(t.bind(null,"4a8d"))},uInput:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-input/u-input")]).then(t.bind(null,"f5a0"))},uToast:function(){return t.e("uview-ui/components/u-toast/u-toast").then(t.bind(null,"4eec"))},uVerificationCode:function(){return t.e("uview-ui/components/u-verification-code/u-verification-code").then(t.bind(null,"c17a"))},uButton:function(){return t.e("uview-ui/components/u-button/u-button").then(t.bind(null,"7efc"))},uMask:function(){return t.e("uview-ui/components/u-mask/u-mask").then(t.bind(null,"2d6c"))}},i=function(){var n=this,e=n.$createElement;n._self._c;n._isMounted||(n.e0=function(e){n.show=!0},n.e1=function(e){n.show=!1},n.e2=function(e){n.show=!1})},u=[]}},[["a271","common/runtime","common/vendor"]]]);