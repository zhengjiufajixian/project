(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/order"],{"2e58":function(e,t,r){"use strict";(function(e){r("7ade");n(r("66fd"));var t=n(r("a48f"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("543d")["createPage"])},5254:function(e,t,r){},8642:function(e,t,r){},a48f:function(e,t,r){"use strict";r.r(t);var n=r("f196"),o=r("d83d");for(var u in o)"default"!==u&&function(e){r.d(t,e,(function(){return o[e]}))}(u);r("ef57"),r("a7e6");var a,i=r("f0c5"),s=Object(i["a"])(o["default"],n["b"],n["c"],!1,null,"33b4270a",null,!1,n["a"],a);t["default"]=s.exports},a7e6:function(e,t,r){"use strict";var n=r("5254"),o=r.n(n);o.a},ae7c:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{list:[{name:"全部",value:""},{name:"服务中",value:"EXECUTING"},{name:"已完成",value:"SUCCESS"},{name:"已退款",value:"REFUND"}],currentPage:0,current:0,page:[1,1,1,1],orderList:[[],[],[],[]],swiperCurrent:0,tabsHeight:0,dx:0,loadStatus:["loadmore","loadmore","loadmore","loadmore"]}},onShow:function(){this.loadStatus=["loadmore","loadmore","loadmore","loadmore"],this.page=[1,1,1,1],this.orderList=[[],[],[],[]],this.current=0,this.currentPage=0,this.swiperCurrent=0,this.getOrderList()},methods:{setPage:function(){e.navigateTo({url:"publish/publish"})},customStyle:function(){return{}},getOrderStatus:function(e){switch(e.orderStatus){case"WAITCONFIRM":return"待接单";case"PAYOFF":return"待支付";case"EXECUTING":return"服务中";case"SUCCESS":return"已完成";case"REFUND":return"已退款";default:return""}},getBtnText:function(e){switch(e.orderStatus){case"WAITCONFIRM":return"确认接单";case"PAYOFF":return"待支付";case"EXECUTING":return"确认收款";case"SUCCESS":return 1==e.refund?"已申请退款":0==e.evaluate?"待评价":"去回复";case"REFUND":return"已退款";default:return""}},getBtnStyle:function(e){switch(e.orderStatus){case"INIT":return{color:"#FFBA09",borderColor:"#FFBA09"};case"WAITCONFIRM":return{color:"#FFBA09",borderColor:"#FFBA09"};case"PAYOFF":return{color:"#FFBA09",borderColor:"#FFBA09"};case"EXECUTING":return{color:"#FFBA09",borderColor:"#FFBA09"};case"SUCCESS":return 0==e.evaluate?{color:"#FF2828",borderColor:"#FF2828"}:{color:"#13E3A5",borderColor:"#13E3A5"};case"REFUND":return{color:"#999999",borderColor:"#999999"};case"FAIL":return{color:"#999999",borderColor:"#999999"};default:break}},getBtnClick:function(t,r){e.navigateTo({url:"/pages/order/orderDetail/orderDetail?orderId="+t.id})},getOrderList:function(e){var t=this,r=e||this.currentPage;"nomore"!=this.loadStatus[r]&&this.$u.api.getOrderList({page:this.page[r],status:this.list[r].value,orderType:"XC"}).then((function(e){e.length<10?t.loadStatus.splice(r,1,"nomore"):t.loadStatus.splice(r,1,"loadmore");var n=t.orderList[r].concat(e);t.orderList.splice(r,1,n)}))},reachBottom:function(){if("nomore"!=this.loadStatus[this.currentPage]){var e=this.page[this.currentPage];e++,this.page.splice(this.currentPage,1,e),this.getOrderList()}},totalPrice:function(e){var t=0;return e.map((function(e){t+=parseFloat(e.price)})),t.toFixed(2)},totalNum:function(e){var t=0;return e.map((function(e){t+=e.number})),t},change:function(e){this.swiperCurrent=e,this.currentPage=e,this.page[this.currentPage]=1,this.orderList[this.currentPage]=[],this.loadStatus[this.currentPage]="loadmore"},transition:function(e){var t=e.detail.dx;this.$refs.tabs.setDx(t)},animationfinish:function(e){var t=e.detail.current;this.$refs.tabs.setFinishCurrent(t),this.swiperCurrent=t,this.current=t,this.currentPage=t,0==this.orderList[t].length&&this.getOrderList()}}};t.default=r}).call(this,r("543d")["default"])},d83d:function(e,t,r){"use strict";r.r(t);var n=r("ae7c"),o=r.n(n);for(var u in n)"default"!==u&&function(e){r.d(t,e,(function(){return n[e]}))}(u);t["default"]=o.a},ef57:function(e,t,r){"use strict";var n=r("8642"),o=r.n(n);o.a},f196:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return n}));var n={uTabsSwiper:function(){return Promise.all([r.e("common/vendor"),r.e("uview-ui/components/u-tabs-swiper/u-tabs-swiper")]).then(r.bind(null,"030e"))},uLine:function(){return r.e("uview-ui/components/u-line/u-line").then(r.bind(null,"ee2f"))},uButton:function(){return r.e("uview-ui/components/u-button/u-button").then(r.bind(null,"7efc"))},uLoadmore:function(){return r.e("uview-ui/components/u-loadmore/u-loadmore").then(r.bind(null,"2972"))},uEmpty:function(){return r.e("uview-ui/components/u-empty/u-empty").then(r.bind(null,"b794"))}},o=function(){var e=this,t=e.$createElement,r=(e._self._c,e.__map(e.list,(function(t,r){var n=e.__get_orig(t),o=e.orderList[r].length>0?e.__map(e.orderList[r],(function(t,r){var n=e.__get_orig(t),o=e.getOrderStatus(t),u=e.$u.timeFormat(new Date(t.scheduledTime).getTime(),"yyyy-mm-dd hh:MM"),a=e.$u.timeFormat(new Date(t.createTime).getTime(),"yyyy-mm-dd hh:MM:ss"),i=e.getBtnStyle(t),s=e.getBtnText(t);return{$orig:n,m0:o,g0:u,g1:a,m1:i,m2:s}})):null;return{$orig:n,l0:o}})));e.$mp.data=Object.assign({},{$root:{l1:r}})},u=[]}},[["2e58","common/runtime","common/vendor"]]]);