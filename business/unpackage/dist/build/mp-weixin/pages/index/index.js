(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"2ca9":function(e,t,n){"use strict";(function(e){n("7ade");o(n("66fd"));var t=o(n("59a3"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"59a3":function(e,t,n){"use strict";n.r(t);var o=n("76a7"),a=n("c31a");for(var u in a)"default"!==u&&function(e){n.d(t,e,(function(){return a[e]}))}(u);n("7879");var i,s=n("f0c5"),r=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);t["default"]=r.exports},6498:function(e,t,n){},"76a7":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o}));var o={uAvatar:function(){return n.e("uview-ui/components/u-avatar/u-avatar").then(n.bind(null,"3829"))},uRow:function(){return n.e("uview-ui/components/u-row/u-row").then(n.bind(null,"8ce2"))},uCol:function(){return n.e("uview-ui/components/u-col/u-col").then(n.bind(null,"6e60"))},uSwitch:function(){return n.e("uview-ui/components/u-switch/u-switch").then(n.bind(null,"dee3"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"ff68"))},uImage:function(){return n.e("uview-ui/components/u-image/u-image").then(n.bind(null,"412e"))},uSkeleton:function(){return n.e("uview-ui/components/u-skeleton/u-skeleton").then(n.bind(null,"bf84"))},uModal:function(){return n.e("uview-ui/components/u-modal/u-modal").then(n.bind(null,"4212"))}},a=function(){var e=this,t=e.$createElement;e._self._c},u=[]},7879:function(e,t,n){"use strict";var o=n("6498"),a=n.n(o);a.a},9647:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{modalStatus:!0,loading:!1,userInfo:{merchantImg:"",merchantName:"",shopName:""},start:"",end:"",checked:!1,shopData:{money:"0.00",orderCount:"0"},customStyle:{border:"none"},isLogin:!1}},onShow:function(){this.isLogin=!!e.getStorageSync("token"),this.modalStatus=!this.isLogin,this.userInfo.merchantImg=e.getStorageSync("merchantImg"),this.userInfo.merchantName=e.getStorageSync("merchantName"),this.userInfo.shopName=e.getStorageSync("shopName"),e.getStorageSync("start")&&(this.start=JSON.parse(e.getStorageSync("start")),this.end=JSON.parse(e.getStorageSync("end")))},onLoad:function(){e.getStorageSync("token")&&(this.getUserInfo(),this.getYesterday())},methods:{handleConfirm:function(){e.redirectTo({url:"/pages/login/login"})},naviToSet:function(){this.isLogin&&e.navigateTo({url:"/subPackages/setBusiness/setBusiness"})},getBusinessTime:function(){var t=this;this.$u.api.getBusinessTime().then((function(n){if(t.loading=!1,n){var o=new Date(n.startTime).getHours(),a=new Date(n.startTime).getMinutes();t.start={hour:o<10?"0"+o:o,minute:a<10?"0"+a:a};var u=new Date(n.endTime).getHours(),i=new Date(n.endTime).getMinutes();t.end={hour:u<10?"0"+u:u,minute:i<10?"0"+i:i},e.setStorageSync("start",JSON.stringify(t.start)),e.setStorageSync("end",JSON.stringify(t.end))}}))},setPage:function(t){e.navigateTo({url:"/pages/my/"+t+"/"+t})},getYesterday:function(){var e=this;this.$u.api.getYesterday().then((function(t){e.shopData=t}))},getUserInfo:function(){var t=this;this.$u.api.getUserInfo().then((function(n){e.setStorageSync("merchantName",n.merchantName),e.setStorageSync("merchantImg",n.merchantImg),e.setStorageSync("merchantPhone",n.merchantPhone),e.setStorageSync("shopId",n.shopId),e.setStorageSync("shopName",n.shopName),e.setStorageSync("promoCode",n.promoCode),e.setStorageSync("isXC",n.isXc),e.setStorageSync("isBY",n.isBy),e.setStorageSync("isWX",n.isWx),t.userInfo=n,1==n.shopStatus&&(t.checked=!1),2==n.shopStatus&&(t.checked=!0),t.getBusinessTime()}))},changeShopStatus:function(){var t=this,n=this.checked?2:1;this.$u.api.changShopStatus({status:n}).then((function(o){if(500==o.code)t.checked=1==n,e.showToast({title:o.message,icon:"none"});else{var a=t.checked?"开始营业成功":"暂停营业成功";e.showToast({title:a})}}))}}};t.default=n}).call(this,n("543d")["default"])},c31a:function(e,t,n){"use strict";n.r(t);var o=n("9647"),a=n.n(o);for(var u in o)"default"!==u&&function(e){n.d(t,e,(function(){return o[e]}))}(u);t["default"]=a.a}},[["2ca9","common/runtime","common/vendor"]]]);